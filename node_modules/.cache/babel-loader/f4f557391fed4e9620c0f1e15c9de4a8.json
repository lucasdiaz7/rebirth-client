{"ast":null,"code":"var requestManager = require('../request-manager');\n\nvar configurations = require('../configurations');\n\nvar Promise = require('bluebird');\n\nvar preConditions = require('../precondition');\n\nvar connect = module.exports = {};\nconnect.get = requestManager.describe({\n  base_url: 'https://auth.mercadopago.com.ar',\n  path: '/authorization',\n  method: 'GET'\n}); // Get the access_token for mercadopago connect client\n\nconnect.getCredentials = requestManager.getUserCredentials;\n/**\n * Send the authorizationCode to the redirectURI specified\n * @param clientId\n * @param redirectURI\n * @param callback\n */\n\nconnect.sendAuthorizationCode = function (clientId, redirectURI, callback) {\n  return this.get({\n    qs: {\n      client_id: clientId,\n      response_type: 'code',\n      platform_id: 'mp',\n      redirect_uri: redirectURI\n    }\n  }, callback);\n};\n/**\n * Get the access_token from MercadoPago API and set the access_token to the SDK\n * @param clientId\n * @param redirectURI\n * @param callback\n * @returns {*}\n */\n\n\nconnect.getCredentialsAndConfigure = function (clientSecret, authorizationCode, redirectURI, callback) {\n  callback = preConditions.getCallback(callback);\n  return requestManager.getUserCredentials(clientSecret, authorizationCode, redirectURI).then(function (response) {\n    configurations.setAccessToken(response.body.access_token).setRefreshToken(response.body.refresh_token);\n    callback.apply(null, [null, response]);\n    return Promise.resolve(response);\n  }).catch(function (error) {\n    callback.apply(null, [error, null]);\n    return Promise.reject(error);\n  });\n};","map":{"version":3,"names":["requestManager","require","configurations","Promise","preConditions","connect","module","exports","get","describe","base_url","path","method","getCredentials","getUserCredentials","sendAuthorizationCode","clientId","redirectURI","callback","qs","client_id","response_type","platform_id","redirect_uri","getCredentialsAndConfigure","clientSecret","authorizationCode","getCallback","then","response","setAccessToken","body","access_token","setRefreshToken","refresh_token","apply","resolve","catch","error","reject"],"sources":["C:/Backup/Desktop/LUCAS/henry/PROYECTO FINAL/PF-Rebirth/PF-Rebirth/client/node_modules/mercadopago/lib/resources/connect.js"],"sourcesContent":["var requestManager = require('../request-manager');\nvar configurations = require('../configurations');\nvar Promise = require('bluebird');\nvar preConditions = require('../precondition');\n\nvar connect = module.exports = {};\n\nconnect.get = requestManager.describe({\n  base_url: 'https://auth.mercadopago.com.ar',\n  path: '/authorization',\n  method: 'GET'\n});\n\n// Get the access_token for mercadopago connect client\nconnect.getCredentials = requestManager.getUserCredentials;\n\n/**\n * Send the authorizationCode to the redirectURI specified\n * @param clientId\n * @param redirectURI\n * @param callback\n */\nconnect.sendAuthorizationCode = function (clientId, redirectURI, callback) {\n  return this.get({\n    qs: {\n      client_id: clientId,\n      response_type: 'code',\n      platform_id: 'mp',\n      redirect_uri: redirectURI\n    }\n  }, callback);\n};\n\n/**\n * Get the access_token from MercadoPago API and set the access_token to the SDK\n * @param clientId\n * @param redirectURI\n * @param callback\n * @returns {*}\n */\nconnect.getCredentialsAndConfigure = function (clientSecret, authorizationCode, redirectURI, callback) {\n  callback = preConditions.getCallback(callback);\n\n  return requestManager.getUserCredentials(clientSecret, authorizationCode, redirectURI).then(function (response) {\n    configurations.setAccessToken(response.body.access_token)\n      .setRefreshToken(response.body.refresh_token);\n\n    callback.apply(null, [null, response]);\n    return Promise.resolve(response);\n  }).catch(function (error) {\n    callback.apply(null, [error, null]);\n    return Promise.reject(error);\n  });\n};\n"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,oBAAD,CAA5B;;AACA,IAAIC,cAAc,GAAGD,OAAO,CAAC,mBAAD,CAA5B;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIG,aAAa,GAAGH,OAAO,CAAC,iBAAD,CAA3B;;AAEA,IAAII,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B;AAEAF,OAAO,CAACG,GAAR,GAAcR,cAAc,CAACS,QAAf,CAAwB;EACpCC,QAAQ,EAAE,iCAD0B;EAEpCC,IAAI,EAAE,gBAF8B;EAGpCC,MAAM,EAAE;AAH4B,CAAxB,CAAd,C,CAMA;;AACAP,OAAO,CAACQ,cAAR,GAAyBb,cAAc,CAACc,kBAAxC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAT,OAAO,CAACU,qBAAR,GAAgC,UAAUC,QAAV,EAAoBC,WAApB,EAAiCC,QAAjC,EAA2C;EACzE,OAAO,KAAKV,GAAL,CAAS;IACdW,EAAE,EAAE;MACFC,SAAS,EAAEJ,QADT;MAEFK,aAAa,EAAE,MAFb;MAGFC,WAAW,EAAE,IAHX;MAIFC,YAAY,EAAEN;IAJZ;EADU,CAAT,EAOJC,QAPI,CAAP;AAQD,CATD;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAb,OAAO,CAACmB,0BAAR,GAAqC,UAAUC,YAAV,EAAwBC,iBAAxB,EAA2CT,WAA3C,EAAwDC,QAAxD,EAAkE;EACrGA,QAAQ,GAAGd,aAAa,CAACuB,WAAd,CAA0BT,QAA1B,CAAX;EAEA,OAAOlB,cAAc,CAACc,kBAAf,CAAkCW,YAAlC,EAAgDC,iBAAhD,EAAmET,WAAnE,EAAgFW,IAAhF,CAAqF,UAAUC,QAAV,EAAoB;IAC9G3B,cAAc,CAAC4B,cAAf,CAA8BD,QAAQ,CAACE,IAAT,CAAcC,YAA5C,EACGC,eADH,CACmBJ,QAAQ,CAACE,IAAT,CAAcG,aADjC;IAGAhB,QAAQ,CAACiB,KAAT,CAAe,IAAf,EAAqB,CAAC,IAAD,EAAON,QAAP,CAArB;IACA,OAAO1B,OAAO,CAACiC,OAAR,CAAgBP,QAAhB,CAAP;EACD,CANM,EAMJQ,KANI,CAME,UAAUC,KAAV,EAAiB;IACxBpB,QAAQ,CAACiB,KAAT,CAAe,IAAf,EAAqB,CAACG,KAAD,EAAQ,IAAR,CAArB;IACA,OAAOnC,OAAO,CAACoC,MAAR,CAAeD,KAAf,CAAP;EACD,CATM,CAAP;AAUD,CAbD"},"metadata":{},"sourceType":"script"}