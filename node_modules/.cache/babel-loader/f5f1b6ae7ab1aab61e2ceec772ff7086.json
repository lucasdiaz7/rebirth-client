{"ast":null,"code":"var _jsxFileName = \"C:\\\\Backup\\\\Desktop\\\\LUCAS\\\\henry\\\\PROYECTO FINAL\\\\PF-Rebirth\\\\PF-Rebirth\\\\client\\\\src\\\\Pages\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Cards from \"../Components/Card/Card\";\nimport Paginations from \"../Components/Pagination/Pagination\";\nimport Navbar from \"../Components/Navbar/Navbar\";\nimport FiltersBar from \"../Components/FilterBar/FilterBar\";\nimport Footer from \"../Components/Footer/Footer\";\nimport Header from \"../Components/Header/Header\";\nimport Testimonials from \"../Components/Testimonials/Testimonials.jsx\";\nimport \"../index.css\";\nimport { getLocation, filterByLocation, filterBySex, filterBySize, fullFilterAge, fullFilterLocation, fullFilterSex, fullFilterSize, getPetFilters, getPetNames, orderByAge } from \"../Redux/Actions/index.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  var _useLocation$search;\n\n  const petType = (_useLocation$search = useLocation().search) === null || _useLocation$search === void 0 ? void 0 : _useLocation$search.replace(\"?type=\", \"\");\n  const dispatch = useDispatch();\n  const pets = useSelector(store => store.filteredPets); // const loading = useSelector(store => store.loading)\n  //Paginado//\n\n  const [refresh] = useState(1); // const [page, setPage] = useState(1);\n  // const [cantPets] = useState(6);\n  // const lastPet = page * cantPets;\n  // const firstPet = lastPet - cantPets;\n  // const petsPage = pets?.slice(firstPet, lastPet);\n  // // const cantPages = Math.ceil(pets.length / cantPets);\n  // const paginado = (pageNum) => {\n  //   setPage(pageNum);\n  // };\n  // logica de la paginacion, filtro por pagina y loading\n\n  const [currentPage, setCurrentPage] = useState(1); //lo seteo en 1 porque siempre arranco por la primer pagina\n\n  const petsPerPage = 6; //cantidad de pets que debe haber por pagina\n\n  const indexOfLastPet = currentPage * petsPerPage; // 1 * 6 = 6\n\n  const indexOfFirstPet = indexOfLastPet - petsPerPage; // 6 - 6 = 0\n\n  const currentPet = pets.slice(indexOfFirstPet, indexOfLastPet); //para dividir la cantidad de pets por pagina\n\n  const pagination = pageNumber => setCurrentPage(pageNumber);\n\n  useEffect(() => {\n    dispatch(getPetFilters(petType));\n    dispatch(getLocation(petType));\n  }, [dispatch, petType]);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [currentPage]);\n\n  function handleFilterBySex(e) {\n    dispatch(filterBySex(e));\n    dispatch(fullFilterSex(e));\n    setCurrentPage(1);\n  }\n\n  function handleFilterBySize(e) {\n    dispatch(filterBySize(e));\n    dispatch(fullFilterSize(e));\n    setCurrentPage(1);\n  }\n\n  function handleFilterByLocation(e) {\n    dispatch(filterByLocation(e));\n    dispatch(fullFilterLocation(e));\n    setCurrentPage(1);\n  }\n\n  function handleOrderByAge(e) {\n    dispatch(orderByAge(e));\n    dispatch(fullFilterAge(e));\n    setCurrentPage(1);\n  }\n\n  function handleSearchName(search) {\n    dispatch(getPetNames(petType, search));\n    setCurrentPage(1);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        type: petType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FiltersBar, {\n        handleFilterBySex: handleFilterBySex,\n        handleFilterBySize: handleFilterBySize,\n        handleFilterByLocation: handleFilterByLocation,\n        handleOrderByAge: handleOrderByAge,\n        handleSearchName: handleSearchName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boxWrap\",\n        children: refresh && currentPet.map((p, i) => {\n          return /*#__PURE__*/_jsxDEV(Cards, {\n            image: p.image,\n            name: p.name,\n            breed: p.race,\n            age: p.age,\n            gender: p.gender,\n            size: p.size,\n            description: p.description,\n            id: p.id,\n            location: p.location\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paginations, {\n      currentPage: currentPage,\n      petsPerPage: petsPerPage,\n      pets: pets.length,\n      pagination: pagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Testimonials, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"9Dv6HjIcCx1kib2+45hj7Qtoq1c=\", false, function () {\n  return [useLocation, useDispatch, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","Container","Cards","Paginations","Navbar","FiltersBar","Footer","Header","Testimonials","getLocation","filterByLocation","filterBySex","filterBySize","fullFilterAge","fullFilterLocation","fullFilterSex","fullFilterSize","getPetFilters","getPetNames","orderByAge","useDispatch","useSelector","useEffect","useState","useLocation","Home","petType","search","replace","dispatch","pets","store","filteredPets","refresh","currentPage","setCurrentPage","petsPerPage","indexOfLastPet","indexOfFirstPet","currentPet","slice","pagination","pageNumber","window","scrollTo","handleFilterBySex","e","handleFilterBySize","handleFilterByLocation","handleOrderByAge","handleSearchName","map","p","i","image","name","race","age","gender","size","description","id","location","Math","random","length"],"sources":["C:/Backup/Desktop/LUCAS/henry/PROYECTO FINAL/PF-Rebirth/PF-Rebirth/client/src/Pages/Home.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Cards from \"../Components/Card/Card\";\r\nimport Paginations from \"../Components/Pagination/Pagination\";\r\nimport Navbar from \"../Components/Navbar/Navbar\";\r\nimport FiltersBar from \"../Components/FilterBar/FilterBar\";\r\nimport Footer from \"../Components/Footer/Footer\";\r\nimport Header from \"../Components/Header/Header\";\r\nimport Testimonials from \"../Components/Testimonials/Testimonials.jsx\";\r\nimport \"../index.css\";\r\n\r\nimport {getLocation,\r\n  filterByLocation,\r\n  filterBySex,\r\n  filterBySize,\r\n  fullFilterAge,\r\n  fullFilterLocation,\r\n  fullFilterSex,\r\n  fullFilterSize,\r\n  getPetFilters,\r\n  getPetNames,\r\n  orderByAge,\r\n} from \"../Redux/Actions/index.js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n  const petType = useLocation().search?.replace(\"?type=\", \"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const pets = useSelector((store) => store.filteredPets);\r\n  // const loading = useSelector(store => store.loading)\r\n\r\n  //Paginado//\r\n  const [refresh] = useState(1);\r\n  // const [page, setPage] = useState(1);\r\n  // const [cantPets] = useState(6);\r\n  // const lastPet = page * cantPets;\r\n  // const firstPet = lastPet - cantPets;\r\n  // const petsPage = pets?.slice(firstPet, lastPet);\r\n  // // const cantPages = Math.ceil(pets.length / cantPets);\r\n\r\n  // const paginado = (pageNum) => {\r\n  //   setPage(pageNum);\r\n  // };\r\n\r\n  // logica de la paginacion, filtro por pagina y loading\r\n  const [currentPage, setCurrentPage] = useState(1); //lo seteo en 1 porque siempre arranco por la primer pagina\r\n  const petsPerPage = 6; //cantidad de pets que debe haber por pagina\r\n  const indexOfLastPet = currentPage * petsPerPage; // 1 * 6 = 6\r\n  const indexOfFirstPet = indexOfLastPet - petsPerPage; // 6 - 6 = 0\r\n  const currentPet = pets.slice(indexOfFirstPet, indexOfLastPet); //para dividir la cantidad de pets por pagina\r\n  const pagination = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPetFilters(petType));\r\n    dispatch(getLocation(petType));\r\n  }, [dispatch, petType]);\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [currentPage]);\r\n\r\n  function handleFilterBySex(e) {\r\n    dispatch(filterBySex(e));\r\n    dispatch(fullFilterSex(e));\r\n    setCurrentPage(1);\r\n  }\r\n  function handleFilterBySize(e) {\r\n    dispatch(filterBySize(e));\r\n    dispatch(fullFilterSize(e));\r\n    setCurrentPage(1);\r\n  }\r\n  function handleFilterByLocation(e) {\r\n    dispatch(filterByLocation(e));\r\n    dispatch(fullFilterLocation(e));\r\n    setCurrentPage(1);\r\n  }\r\n  function handleOrderByAge(e) {\r\n    dispatch(orderByAge(e));\r\n    dispatch(fullFilterAge(e));\r\n    setCurrentPage(1);\r\n  }\r\n  function handleSearchName(search) {\r\n    dispatch(getPetNames(petType, search));\r\n    setCurrentPage(1);\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Container>\r\n        <Header type={petType} />\r\n        <FiltersBar\r\n          handleFilterBySex={handleFilterBySex}\r\n          handleFilterBySize={handleFilterBySize}\r\n          handleFilterByLocation={handleFilterByLocation}\r\n          handleOrderByAge={handleOrderByAge}\r\n          handleSearchName={handleSearchName}\r\n        />\r\n        <div className=\"boxWrap\">\r\n          {refresh &&\r\n            currentPet.map((p, i) => {\r\n              return (\r\n                <Cards\r\n                  key={Math.random()}\r\n                  image={p.image}\r\n                  name={p.name}\r\n                  breed={p.race}\r\n                  age={p.age}\r\n                  gender={p.gender}\r\n                  size={p.size}\r\n                  description={p.description}\r\n                  id={p.id}\r\n                  location={p.location}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n      </Container>\r\n      <Paginations\r\n        currentPage={currentPage}\r\n        petsPerPage={petsPerPage}\r\n        pets={pets.length}\r\n        pagination={pagination}\r\n      />\r\n      <Testimonials />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}