{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport axios from \"axios\";\nexport const useFetchPets = filters => {\n  _s();\n\n  return useQuery([\"pets\", filters], async () => await fetchingData(filters), {\n    refetchOnWindowFocus: false\n  });\n};\n\n_s(useFetchPets, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\nexport const useUserFavoritesPets = filters => {\n  _s2();\n\n  return useQuery([\"user\", filters], async () => await fetchingFavorites(filters), {\n    refetchOnWindowFocus: false\n  });\n};\n\n_s2(useUserFavoritesPets, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\nexport const useFavoritesPetsDetails = filters => {\n  _s3();\n\n  return useQuery([\"pets\", filters], async () => await favoritesPetsDetails(filters), {\n    refetchOnWindowFocus: false\n  });\n};\n\n_s3(useFavoritesPetsDetails, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\nexport const useUpdateFavs = (mail, id) => {\n  _s4();\n\n  return useMutation(async () => {\n    return await axios.put(`http://localhost:3001/user/deleteFavs/${mail}`, id);\n  });\n};\n\n_s4(useUpdateFavs, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\n\nasync function fetchingData(_ref) {\n  let {\n    page = 0,\n    name,\n    type,\n    location,\n    gender,\n    age,\n    size\n  } = _ref;\n\n  try {\n    const ageFilter = !age ? \"\" : age;\n    const nameFilter = !name ? \"\" : name;\n    const typeFilter = !type.length ? \"{%22dog%22,%22cat%22}\" : passArrayByUrl(type);\n    const genderFilter = !gender.length ? \"{%22female%22,%22male%22}\" : passArrayByUrl(gender);\n    const sizeFilter = !size.length ? \"{%22small%22,%22medium%22,%22big%22}\" : passArrayByUrl(size);\n    const locationFilter = !location.length ? \"\" : passArrayByUrl(location);\n    const dataTest = await axios.get(`http://localhost:3001/?page=${page}&name=${nameFilter}&type=${typeFilter}&age=${ageFilter}&gender=${genderFilter}&size=${sizeFilter}&location=${locationFilter}`);\n    return dataTest;\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction passArrayByUrl(filterArray) {\n  var auxString = \"{\";\n\n  if (filterArray.length !== 0) {\n    filterArray.forEach(g => {\n      auxString += `%22${g}%22,`;\n    });\n    auxString = auxString.substring(0, auxString.length - 1);\n    auxString += \"}\";\n  }\n\n  return auxString;\n}\n\nasync function fetchingFavorites(_ref2) {\n  let {\n    mail\n  } = _ref2;\n\n  try {\n    const dataFavorites = await axios.get(`http://localhost:3001/user/Favs/${mail}`);\n    return dataFavorites;\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function favoritesPetsDetails(_ref3) {\n  let {\n    id\n  } = _ref3;\n  let dataFavorites = id && id.map(id => axios.get(`http://localhost:3001/pets/${id}`));\n  const arrayDetails = await Promise.all(dataFavorites);\n  return arrayDetails;\n}","map":{"version":3,"names":["useQuery","useMutation","axios","useFetchPets","filters","fetchingData","refetchOnWindowFocus","useUserFavoritesPets","fetchingFavorites","useFavoritesPetsDetails","favoritesPetsDetails","useUpdateFavs","mail","id","put","page","name","type","location","gender","age","size","ageFilter","nameFilter","typeFilter","length","passArrayByUrl","genderFilter","sizeFilter","locationFilter","dataTest","get","error","filterArray","auxString","forEach","g","substring","dataFavorites","map","arrayDetails","Promise","all"],"sources":["C:/Backup/Desktop/LUCAS/henry/PROYECTO FINAL/PF-Rebirth/PF-Rebirth/client/src/Tools/customHooks.js"],"sourcesContent":["import { useQuery, useMutation } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\nexport const useFetchPets = (filters) => {\r\n  return useQuery([\"pets\", filters], async () => await fetchingData(filters), {\r\n    refetchOnWindowFocus: false,\r\n  });\r\n};\r\n\r\nexport const useUserFavoritesPets = (filters) => {\r\n  return useQuery(\r\n    [\"user\", filters],\r\n    async () => await fetchingFavorites(filters),\r\n    {\r\n      refetchOnWindowFocus: false,\r\n    }\r\n  );\r\n};\r\n\r\nexport const useFavoritesPetsDetails = (filters) => {\r\n  return useQuery(\r\n    [\"pets\", filters],\r\n    async () => await favoritesPetsDetails(filters),\r\n    {\r\n      refetchOnWindowFocus: false,\r\n    }\r\n  );\r\n};\r\n\r\nexport const useUpdateFavs = (mail, id) => {\r\n  return useMutation(async () => {\r\n    return await axios.put(`http://localhost:3001/user/deleteFavs/${mail}`, id);\r\n  })\r\n}\r\n\r\nasync function fetchingData({\r\n  page = 0,\r\n  name,\r\n  type,\r\n  location,\r\n  gender,\r\n  age,\r\n  size,\r\n}) {\r\n  try {\r\n    const ageFilter = !age ? \"\" : age;\r\n    const nameFilter = !name ? \"\" : name;\r\n    const typeFilter = !type.length\r\n      ? \"{%22dog%22,%22cat%22}\"\r\n      : passArrayByUrl(type);\r\n    const genderFilter = !gender.length\r\n      ? \"{%22female%22,%22male%22}\"\r\n      : passArrayByUrl(gender);\r\n    const sizeFilter = !size.length\r\n      ? \"{%22small%22,%22medium%22,%22big%22}\"\r\n      : passArrayByUrl(size);\r\n    const locationFilter = !location.length ? \"\" : passArrayByUrl(location);\r\n\r\n    const dataTest = await axios.get(\r\n      `http://localhost:3001/?page=${page}&name=${nameFilter}&type=${typeFilter}&age=${ageFilter}&gender=${genderFilter}&size=${sizeFilter}&location=${locationFilter}`\r\n    );\r\n\r\n    return dataTest;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nfunction passArrayByUrl(filterArray) {\r\n  var auxString = \"{\";\r\n  if (filterArray.length !== 0) {\r\n    filterArray.forEach((g) => {\r\n      auxString += `%22${g}%22,`;\r\n    });\r\n    auxString = auxString.substring(0, auxString.length - 1);\r\n    auxString += \"}\";\r\n  }\r\n  return auxString;\r\n}\r\n\r\nasync function fetchingFavorites({ mail }) {\r\n  try {\r\n    const dataFavorites = await axios.get(\r\n      `http://localhost:3001/user/Favs/${mail}`\r\n    );\r\n    return dataFavorites;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nasync function favoritesPetsDetails({ id }) {\r\n  let dataFavorites =\r\n    id && id.map((id) => axios.get(`http://localhost:3001/pets/${id}`));\r\n  const arrayDetails = await Promise.all(dataFavorites);\r\n  return arrayDetails;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}